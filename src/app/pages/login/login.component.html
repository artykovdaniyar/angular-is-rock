<div class="login">
  <div class="container">
    <div class="card">
      <form class="form" [formGroup]="form" (submit)="onSubmit()">
        <h3 class="title">{{ "PAGES.LOGIN.LOGIN" | translate }}</h3>
        <fieldset class="form-group">
          <label for="#userEmail" class="label">{{
            "PAGES.LOGIN.EMAIL.LABEL" | translate
          }}</label>
          <small
            class="error-message"
            *ngIf="form.get('login')?.errors?.['required'] && form.get('login')?.touched"
            >{{ "SHARED.REQUIRED" | translate }}</small
          >
          <small
            class="error-message"
            *ngIf="form.get('login')?.errors?.['email'] && form.get('login')?.touched"
            >{{ "SHARED.INCORRECT" | translate }}</small
          >
        </fieldset>

        <input
          type="email"
          class="input"
          id="userEmail"
          placeholder="{{ 'PAGES.LOGIN.EMAIL.PLACEHOLDER' | translate }}"
          autocomplete="off"
          formControlName="login"
        />
        <fieldset class="form-group">
          <label for="#userPassword" class="label">{{
            "PAGES.LOGIN.PASSWORD.LABEL" | translate
          }}</label>
          <small
            class="error-message"
            *ngIf="form.get('password')?.errors?.['required'] && form.get('password')?.touched"
            >{{ "SHARED.REQUIRED" | translate }}</small
          >
          <small
            class="error-message"
            *ngIf="form.get('password')?.errors?.['maxlength'] && form.get('password')?.touched"
            >{{ "SHARED.MAX_LENGTH" | translate: { numbers: "15" } }}</small
          >
          <small
            class="error-message"
            *ngIf="form.get('password')?.errors?.['minlength'] && form.get('password')?.touched"
            >{{ "SHARED.MIN_LENGTH" | translate: { numbers: "6" } }}</small
          >
        </fieldset>

        <input
          type="password"
          class="input"
          id="userPassword"
          placeholder="{{ 'PAGES.LOGIN.PASSWORD.PLACEHOLDER' | translate }}"
          autocomplete="off"
          formControlName="password"
        />

        <small class="error-message" *ngIf="errorInput$ | async">{{
          "PAGES.LOGIN.INVALID_INPUTS" | translate
        }}</small>
        <fieldset class="form-group form-group--last">
          <a href="/" class="link">{{
            "PAGES.LOGIN.FORGET_PASSWORD" | translate
          }}</a>
          <button type="submit" class="btn" [disabled]="form.invalid">
            {{ "PAGES.LOGIN.LOGIN" | translate }}
          </button>
        </fieldset>
      </form>
    </div>
  </div>
</div>
<login-loading *ngIf="isLoading$ | async"></login-loading>
<login-error *ngIf="serverError$ | async"></login-error>
